# NAMC NorCal Member Portal - Environment Configuration Template
# Copy this file to .env and configure for your environment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
APP_PORT=3000
CORS_ORIGIN=https://portal.namcnorcal.org
NEXT_PUBLIC_APP_NAME="NAMC NorCal Member Portal"
NEXT_PUBLIC_APP_VERSION="1.0.0"
NEXT_PUBLIC_APP_URL=https://portal.namcnorcal.org

# Application secrets (GENERATE SECURE VALUES!)
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long
JWT_EXPIRES_IN="7d"
SESSION_SECRET=your-super-secure-session-secret-at-least-32-characters

# Build information (set by CI/CD)
BUILD_TIME=
GIT_SHA=

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Database provider: "sqlite" for development, "postgresql" for production
DATABASE_PROVIDER=sqlite
# SQLite connection string for development
DATABASE_URL=file:./dev.db
# PostgreSQL connection string for production
# DATABASE_URL=postgresql://namc_user:secure_password@localhost:5432/namc_portal

# Database credentials (for Docker Compose)
POSTGRES_DB=namc_portal
POSTGRES_USER=namc_user
POSTGRES_PASSWORD=secure_database_password

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=""
REDIS_DB=0

# =============================================================================
# HUBSPOT INTEGRATION
# =============================================================================
# HubSpot API credentials
HUBSPOT_API_KEY=your-hubspot-api-key-here
HUBSPOT_CLIENT_ID=your-hubspot-client-id
HUBSPOT_CLIENT_SECRET=your-hubspot-client-secret
HUBSPOT_REDIRECT_URI=https://portal.namcnorcal.org/api/hubspot/callback

# HubSpot webhook configuration
HUBSPOT_WEBHOOK_SECRET=your-webhook-secret

# HubSpot portal configuration
HUBSPOT_PORTAL_ID=your-portal-id

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP settings for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@namcnorcal.org
SMTP_PASS=your-email-password
SMTP_FROM="NAMC NorCal <noreply@namcnorcal.org>"

# Email settings
FROM_EMAIL=noreply@namcnorcal.org
FROM_NAME=NAMC NorCal Portal
ADMIN_EMAIL=admin@namcnorcal.org

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
FILE_UPLOAD_PATH=/app/uploads
UPLOAD_MAX_SIZE=10485760  # 10MB in bytes
UPLOAD_ALLOWED_TYPES="image/jpeg,image/png,image/webp,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
UPLOAD_PATH="./uploads"
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png,gif

# =============================================================================
# EXTERNAL APIS
# =============================================================================
GOOGLE_MAPS_API_KEY="your-google-maps-api-key"
GOOGLE_PLACES_API_KEY="your-google-places-api-key"

# Payment Processing (if using Stripe)
STRIPE_PUBLIC_KEY="pk_test_..."
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Security Configuration
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGIN="http://localhost:3000"

# Logging Configuration
LOG_LEVEL="info"
LOG_FILE_PATH="./logs/app.log"
LOG_MAX_SIZE="10MB"
LOG_MAX_FILES=5

# Session Configuration
SESSION_SECRET="your-session-secret-key-minimum-32-characters"
SESSION_MAX_AGE=604800000  # 7 days in milliseconds

# SSL/TLS Configuration (for production)
SSL_CERT_PATH=""
SSL_KEY_PATH=""

# Monitoring and Analytics
ENABLE_ANALYTICS=true
ANALYTICS_TRACKING_ID=""

# California Contractors Database (CSLB)
CSLB_API_KEY=""
CSLB_DATA_PATH="./data/contractors"

# Email Service Configuration (Alternative to SMTP)
SENDGRID_API_KEY=""
MAILGUN_API_KEY=""
MAILGUN_DOMAIN=""

# Social Media Integration (Optional)
LINKEDIN_CLIENT_ID=""
LINKEDIN_CLIENT_SECRET=""
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Development Tools
NEXT_PUBLIC_DEV_TOOLS=true
PRISMA_STUDIO_PORT=5555

# API Rate Limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_WINDOW=900000  # 15 minutes
API_RATE_LIMIT_MAX=100

# Security Headers
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY_ENABLED=true

# Backup Configuration
DATABASE_BACKUP_ENABLED=false
DATABASE_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
DATABASE_BACKUP_RETENTION_DAYS=30

# ==============================================
# Production-specific variables
# ==============================================

# Set these in production environment:
# DATABASE_PROVIDER="postgresql"
# DATABASE_URL="postgresql://prod_user:prod_password@prod_host:5432/namc_portal_prod"
# JWT_SECRET="your-production-jwt-secret-key-minimum-64-characters-long"
# REDIS_URL="rediss://prod_redis_host:6380"
# CORS_ORIGIN="https://your-production-domain.com"
# NEXT_PUBLIC_APP_URL="https://your-production-domain.com"
# SSL_CERT_PATH="/path/to/ssl/cert.pem"
# SSL_KEY_PATH="/path/to/ssl/private.key"

# ==============================================
# Setup Instructions
# ==============================================

# 1. Copy this file to .env.local: cp .env.example .env.local
# 2. Update all placeholder values with your actual configuration
# 3. Ensure all secrets are properly generated and secured
# 4. For production, use environment-specific values
# 5. Never commit .env.local or .env files to version control

# ==============================================
# Required Variables (Must be set)
# ==============================================
# - DATABASE_PROVIDER
# - DATABASE_URL
# - JWT_SECRET
# - SMTP_* (for email functionality)
# - REDIS_URL (for caching)

# ==============================================
# Optional Variables
# ==============================================
# - Payment processing variables (if using payments)
# - External API keys (if using maps, analytics, etc.)
# - Social media integration keys
# - Advanced security and monitoring settings